<!-- src/main/resources/META-INF/resources/edit-product.xhtml -->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" 
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core" 
      xmlns:p="http://primefaces.org/ui">

<f:metadata>
    <f:viewParam name="id" value="#{productBean.selectedProductId}" />
    <f:viewAction action="#{productBean.loadSelectedProduct}" />
</f:metadata>

<h:head>
    <title>Edit Product</title>
</h:head>

<h:body>
    <div class="card">
        <h:form id="form">
            <p:growl id="messages" showDetail="true" />

            <p:panel header="Edit Product">
                <h:panelGrid columns="2" cellpadding="5">
                    <p:outputLabel for="name" value="Name:" />
                    <p:inputText id="name" value="#{productBean.selectedProduct.name}" required="true" />

                    <p:outputLabel for="price" value="Price:" />
                    <p:inputNumber id="price" value="#{productBean.selectedProduct.price}" 
                                 required="true" minValue="0" decimalPlaces="2" />

                    <p:outputLabel for="description" value="Description:" />
                    <p:inputTextarea id="description" value="#{productBean.selectedProduct.description}" 
                                   required="true" />
                </h:panelGrid>

                <p:commandButton value="Save Changes" action="#{productBean.updateProduct}"
                               update="messages" style="margin-right: 10px"/>
                               
                <p:button value="Cancel" outcome="/products"
                         styleClass="ui-button-secondary"/>
            </p:panel>
        </h:form>
    </div>
</h:body>
</html>
